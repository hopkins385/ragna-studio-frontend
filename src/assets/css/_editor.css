#text-editor {
  .ProseMirror {
    @apply outline-none min-h-[calc(100vh-14rem)];

    > p:first-child {
      @apply mt-0;
    }

    p {
      @apply relative;
    }

    > p:last-child {
      @apply mb-0;
    }

    > h1 {
      @apply mb-3;
      &:first-child {
      }
    }

    > h2 {
      @apply mb-2;
      &:first-child {
      }
    }

    h1 {
      @apply text-3xl font-semibold;
    }

    h2 {
      @apply text-2xl font-semibold;
    }

    /* List styles */
    ul {
      @apply list-disc list-outside ml-10;
    }
    ol {
      @apply list-decimal list-outside ml-10;
    }

    .ProseMirror-trailingBreak {
    }

    /* Placeholder (at the top) */
    p.is-editor-empty:first-child::before {
      @apply text-stone-400;
      content: attr(data-placeholder);
      float: left;
      height: 0;
      pointer-events: none;
    }

    /* Task list specific styles */
    ul[data-type='taskList'] {
      list-style: none;
      margin-left: 0;
      padding: 0;

      li {
        align-items: flex-start;
        display: flex;

        > label {
          flex: 0 0 auto;
          margin-right: 0.5rem;
          user-select: none;
        }

        > div {
          flex: 1 1 auto;
        }
      }

      input[type='checkbox'] {
        @apply cursor-pointer;
      }

      ul[data-type='taskList'] {
        @apply m-0;
      }
    }

    .comment-highlighted {
      background-color: rgba(255, 235, 59, 0.2);
      border-bottom: 2px dashed #ffd700;
    }

    .comment-box {
      position: absolute;
      right: -250px;
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 8px;
      width: 220px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-top: -1.5em;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
    }

    .comment-content {
      flex: 1;
      font-size: 0.9em;
      color: #4a5568;
      word-wrap: break-word;
    }

    .comment-delete {
      background: none;
      border: 1px solid #e2e8f0;
      color: #718096;
      cursor: pointer;
      font-size: 1.2em;
      line-height: 1;
      @apply px-1 rounded-md flex items-center justify-center;
      opacity: 0.7;
    }

    .comment-delete:hover {
      opacity: 1;
      color: #e53e3e;
    }

    /* Invisible characters */

    .tiptap-invisible-character {
      height: 0;
      padding: 0;
      pointer-events: none;
      user-select: none;
      width: 0;
    }

    .tiptap-invisible-character::before {
      caret-color: inherit;
      color: #0ea5e9;
      display: inline-block;
      font-style: normal;
      font-weight: 400;
      line-height: 1em;
      width: 0;
    }

    .tiptap-invisible-character--space::before {
      content: '·';
    }

    .tiptap-invisible-character--break::before {
      content: '¬';
    }

    .tiptap-invisible-character--paragraph::before {
      content: '¶';
    }

    .tiptap-invisible-character + img.ProseMirror-separator {
      height: 0 !important;
      pointer-events: none;
      user-select: none;
      width: 0 !important;
    }

    .is-empty[data-placeholder].has-focus > .tiptap-invisible-character {
      display: none;
    }
  }
}

.editor__menu-button {
  @apply flex cursor-pointer items-center justify-center rounded-md p-2;
}

.editor__menu-button:hover {
  @apply outline outline-stone-300;
}

.editor__menu-button:active {
}

/* is active */
.is-active {
  @apply bg-stone-100 text-stone-900 border border-stone-200;
}
